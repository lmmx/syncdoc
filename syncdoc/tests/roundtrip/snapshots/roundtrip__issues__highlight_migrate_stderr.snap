---
source: syncdoc/tests/roundtrip/issues.rs
expression: result.migrate_stderr
---
[SYNCDOC DEBUG] get_docs_path called:
[SYNCDOC DEBUG]   source_file: src
[SYNCDOC DEBUG]   manifest_dir: /tmp/.tmpXXXXXX
[SYNCDOC DEBUG]   docs_path from toml: docs
[SYNCDOC DEBUG]   manifest_path (canonical): /tmp/.tmpXXXXXX
[SYNCDOC DEBUG]   source_dir (canonical): /tmp/.tmpXXXXXX
[SYNCDOC DEBUG]   relative_path (stripped): 
[SYNCDOC DEBUG]   depth: 0
[SYNCDOC DEBUG]   final result: docs
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: use, span: bytes(103..106) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: ratatui, span: bytes(107..114) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(114..115) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(115..116) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Group { delimiter: Brace, stream: TokenStream [Ident { sym: style, span: bytes(122..127) }, Punct { char: ':', spacing: Joint, span: bytes(127..128) }, Punct { char: ':', spacing: Alone, span: bytes(128..129) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: Color, span: bytes(130..135) }, Punct { char: ',', spacing: Alone, span: bytes(135..136) }, Ident { sym: Style, span: bytes(137..142) }], span: bytes(129..143) }, Punct { char: ',', spacing: Alone, span: bytes(143..144) }, Ident { sym: text, span: bytes(149..153) }, Punct { char: ':', spacing: Joint, span: bytes(153..154) }, Punct { char: ':', spacing: Alone, span: bytes(154..155) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: Line, span: bytes(156..160) }, Punct { char: ',', spacing: Alone, span: bytes(160..161) }, Ident { sym: Span, span: bytes(162..166) }], span: bytes(155..167) }, Punct { char: ',', spacing: Alone, span: bytes(167..168) }], span: bytes(116..170) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(170..171) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: use, span: bytes(172..175) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: syntect, span: bytes(176..183) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(183..184) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(184..185) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: easy, span: bytes(185..189) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(189..190) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(190..191) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: HighlightLines, span: bytes(191..205) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(205..206) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: use, span: bytes(207..210) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: syntect, span: bytes(211..218) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(218..219) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(219..220) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: highlighting, span: bytes(220..232) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(232..233) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(233..234) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: ThemeSet, span: bytes(234..242) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(242..243) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: use, span: bytes(244..247) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: syntect, span: bytes(248..255) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(255..256) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(256..257) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: parsing, span: bytes(257..264) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(264..265) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(265..266) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: SyntaxSet, span: bytes(266..275) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(275..276) })
[SYNCDOC DEBUG] Processing item type: Static
[SYNCDOC DEBUG] Processing item: Static(StaticSig { attributes: None, visibility: None, mut_kw: None, _static: KStatic(Cached<proc_macro2::Ident> { value: Ident { sym: static, span: bytes(278..284) }, string: "static" }), name: Ident { sym: SYNTAX_SET, span: bytes(285..295) }, _colon: Operator<':'>, static_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: std, span: bytes(297..300) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(300..301) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(301..302) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: sync, span: bytes(302..306) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(306..307) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(307..308) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: LazyLock, span: bytes(308..316) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>> { first: Operator<'<'>, second: [Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: SyntaxSet, span: bytes(317..326) })) }], third: Operator<'>'> })) }, delimiter: Some(Nothing) }]), _eq: Operator<'='>, value: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: std, span: bytes(334..337) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(337..338) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(338..339) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: sync, span: bytes(339..343) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(343..344) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(344..345) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: LazyLock, span: bytes(345..353) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(353..354) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(354..355) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: new, span: bytes(355..358) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: SyntaxSet, span: bytes(359..368) }, Punct { char: ':', spacing: Joint, span: bytes(368..369) }, Punct { char: ':', spacing: Alone, span: bytes(369..370) }, Ident { sym: load_defaults_newlines, span: bytes(370..392) }], span: bytes(358..393) })) }, delimiter: Some(Nothing) }]), _semi: Operator<';'> })
[SYNCDOC DEBUG] Processing item type: Static
[SYNCDOC DEBUG] Processing item: Static(StaticSig { attributes: None, visibility: None, mut_kw: None, _static: KStatic(Cached<proc_macro2::Ident> { value: Ident { sym: static, span: bytes(395..401) }, string: "static" }), name: Ident { sym: THEME_SET, span: bytes(402..411) }, _colon: Operator<':'>, static_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: std, span: bytes(413..416) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(416..417) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(417..418) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: sync, span: bytes(418..422) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(422..423) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(423..424) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: LazyLock, span: bytes(424..432) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'='>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'='>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>> { first: Operator<'<'>, second: [Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: ThemeSet, span: bytes(433..441) })) }], third: Operator<'>'> })) }, delimiter: Some(Nothing) }]), _eq: Operator<'='>, value: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: std, span: bytes(445..448) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(448..449) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(449..450) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: sync, span: bytes(450..454) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(454..455) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(455..456) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: LazyLock, span: bytes(456..464) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Joint, span: bytes(464..465) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: ':', spacing: Alone, span: bytes(465..466) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: new, span: bytes(466..469) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<';'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<';'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: ThemeSet, span: bytes(470..478) }, Punct { char: ':', spacing: Joint, span: bytes(478..479) }, Punct { char: ':', spacing: Alone, span: bytes(479..480) }, Ident { sym: load_defaults, span: bytes(480..493) }], span: bytes(469..494) })) }, delimiter: Some(Nothing) }]), _semi: Operator<';'> })
[SYNCDOC DEBUG] Processing item type: Function
[SYNCDOC DEBUG] Processing item: Function(FnSig { attributes: Some(Repeats<1, 18446744073709551615, syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(497..545) }, Punct { char: '=', spacing: Alone, span: bytes(497..545) }, Literal { lit: " Highlight source lines with syntax coloring.", span: bytes(497..545) }], span: bytes(497..545) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(546..549) }, Punct { char: '=', spacing: Alone, span: bytes(546..549) }, Literal { lit: "", span: bytes(546..549) }], span: bytes(546..549) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(550..562) }, Punct { char: '=', spacing: Alone, span: bytes(550..562) }, Literal { lit: " # Panics", span: bytes(550..562) }], span: bytes(550..562) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(563..566) }, Punct { char: '=', spacing: Alone, span: bytes(563..566) }, Literal { lit: "", span: bytes(563..566) }], span: bytes(563..566) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(567..633) }, Punct { char: '=', spacing: Alone, span: bytes(567..633) }, Literal { lit: " Panics if syntax highlighting fails for any line in the input.", span: bytes(567..633) }], span: bytes(567..633) }) }, delimiter: Some(Nothing) }])), visibility: Some(Public(KPub(Cached<proc_macro2::Ident> { value: Ident { sym: pub, span: bytes(634..637) }, string: "pub" }))), const_kw: None, async_kw: None, unsafe_kw: None, extern_kw: None, _fn: KFn(Cached<proc_macro2::Ident> { value: Ident { sym: fn, span: bytes(638..640) }, string: "fn" }), name: Ident { sym: highlight_source_lines, span: bytes(641..663) }, generics: None, params: ParenthesisGroupContaining < core::option::Option<unsynn::container::DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>>>(Some(DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>([Delimited<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>> { value: Named(NamedParam { mut_kw: None, name: Ident { sym: lines, span: bytes(669..674) }, _colon: Operator<':'>, param_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: '&', spacing: Alone, span: bytes(676..677) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Group { delimiter: Bracket, stream: TokenStream [Punct { char: '&', spacing: Alone, span: bytes(678..679) }, Ident { sym: str, span: bytes(679..682) }], span: bytes(677..683) })) }, delimiter: Some(Nothing) }]) }), delimiter: Some(Operator<','>) }, Delimited<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>> { value: Named(NamedParam { mut_kw: None, name: Ident { sym: start, span: bytes(689..694) }, _colon: Operator<':'>, param_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: usize, span: bytes(696..701) })) }, delimiter: Some(Nothing) }]) }), delimiter: Some(Operator<','>) }, Delimited<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>> { value: Named(NamedParam { mut_kw: None, name: Ident { sym: end, span: bytes(707..710) }, _colon: Operator<':'>, param_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: usize, span: bytes(712..717) })) }, delimiter: Some(Nothing) }]) }), delimiter: Some(Operator<','>) }, Delimited<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>> { value: Named(NamedParam { mut_kw: None, name: Ident { sym: target_line, span: bytes(723..734) }, _colon: Operator<':'>, param_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: usize, span: bytes(736..741) })) }, delimiter: Some(Nothing) }]) }), delimiter: Some(Operator<','>) }]))), return_type: Some(ReturnTypeFn { _arrow: Operator<'->'>, return_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::group::BraceGroup>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: Vec, span: bytes(748..751) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::group::BraceGroup>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>> { first: Operator<'<'>, second: [Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: Line, span: bytes(752..756) })) }, Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>> { first: Operator<'<'>, second: [Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: '\'', spacing: Joint, span: bytes(757..758) })) }, Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: static, span: bytes(758..764) })) }], third: Operator<'>'> })) }], third: Operator<'>'> })) }, delimiter: Some(Nothing) }]) }), where_clause: None, body: BraceGroup(Group { delimiter: Brace, stream: TokenStream [Ident { sym: let, span: bytes(773..776) }, Ident { sym: theme, span: bytes(777..782) }, Punct { char: '=', spacing: Alone, span: bytes(783..784) }, Punct { char: '&', spacing: Alone, span: bytes(785..786) }, Ident { sym: THEME_SET, span: bytes(786..795) }, Punct { char: '.', spacing: Alone, span: bytes(795..796) }, Ident { sym: themes, span: bytes(796..802) }, Group { delimiter: Bracket, stream: TokenStream [Literal { lit: "base16-eighties.dark", span: bytes(803..825) }], span: bytes(802..826) }, Punct { char: ';', spacing: Alone, span: bytes(826..827) }, Ident { sym: let, span: bytes(832..835) }, Ident { sym: syntax_ref, span: bytes(836..846) }, Punct { char: '=', spacing: Alone, span: bytes(847..848) }, Ident { sym: SYNTAX_SET, span: bytes(849..859) }, Punct { char: '.', spacing: Alone, span: bytes(868..869) }, Ident { sym: find_syntax_by_extension, span: bytes(869..893) }, Group { delimiter: Parenthesis, stream: TokenStream [Literal { lit: "rs", span: bytes(894..898) }], span: bytes(893..899) }, Punct { char: '.', spacing: Alone, span: bytes(908..909) }, Ident { sym: unwrap_or_else, span: bytes(909..923) }, Group { delimiter: Parenthesis, stream: TokenStream [Punct { char: '|', spacing: Joint, span: bytes(924..925) }, Punct { char: '|', spacing: Alone, span: bytes(925..926) }, Ident { sym: SYNTAX_SET, span: bytes(927..937) }, Punct { char: '.', spacing: Alone, span: bytes(937..938) }, Ident { sym: find_syntax_plain_text, span: bytes(938..960) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(960..962) }], span: bytes(923..963) }, Punct { char: ';', spacing: Alone, span: bytes(963..964) }, Ident { sym: let, span: bytes(970..973) }, Ident { sym: mut, span: bytes(974..977) }, Ident { sym: highlight_lines, span: bytes(978..993) }, Punct { char: '=', spacing: Alone, span: bytes(994..995) }, Ident { sym: HighlightLines, span: bytes(996..1010) }, Punct { char: ':', spacing: Joint, span: bytes(1010..1011) }, Punct { char: ':', spacing: Alone, span: bytes(1011..1012) }, Ident { sym: new, span: bytes(1012..1015) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: syntax_ref, span: bytes(1016..1026) }, Punct { char: ',', spacing: Alone, span: bytes(1026..1027) }, Ident { sym: theme, span: bytes(1028..1033) }], span: bytes(1015..1034) }, Punct { char: ';', spacing: Alone, span: bytes(1034..1035) }, Ident { sym: let, span: bytes(1040..1043) }, Ident { sym: mut, span: bytes(1044..1047) }, Ident { sym: display_lines, span: bytes(1048..1061) }, Punct { char: ':', spacing: Alone, span: bytes(1061..1062) }, Ident { sym: Vec, span: bytes(1063..1066) }, Punct { char: '<', spacing: Alone, span: bytes(1066..1067) }, Ident { sym: Line, span: bytes(1067..1071) }, Punct { char: '<', spacing: Joint, span: bytes(1071..1072) }, Punct { char: '\'', spacing: Joint, span: bytes(1072..1073) }, Ident { sym: static, span: bytes(1073..1079) }, Punct { char: '>', spacing: Joint, span: bytes(1079..1080) }, Punct { char: '>', spacing: Alone, span: bytes(1080..1081) }, Punct { char: '=', spacing: Alone, span: bytes(1082..1083) }, Ident { sym: Vec, span: bytes(1084..1087) }, Punct { char: ':', spacing: Joint, span: bytes(1087..1088) }, Punct { char: ':', spacing: Alone, span: bytes(1088..1089) }, Ident { sym: new, span: bytes(1089..1092) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1092..1094) }, Punct { char: ';', spacing: Alone, span: bytes(1094..1095) }, Ident { sym: for, span: bytes(1101..1104) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: i, span: bytes(1106..1107) }, Punct { char: ',', spacing: Alone, span: bytes(1107..1108) }, Ident { sym: line_text, span: bytes(1109..1118) }], span: bytes(1105..1119) }, Ident { sym: in, span: bytes(1120..1122) }, Ident { sym: lines, span: bytes(1123..1128) }, Group { delimiter: Bracket, stream: TokenStream [Ident { sym: start, span: bytes(1129..1134) }, Punct { char: '.', spacing: Joint, span: bytes(1134..1135) }, Punct { char: '.', spacing: Alone, span: bytes(1135..1136) }, Ident { sym: end, span: bytes(1136..1139) }], span: bytes(1128..1140) }, Punct { char: '.', spacing: Alone, span: bytes(1140..1141) }, Ident { sym: iter, span: bytes(1141..1145) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1145..1147) }, Punct { char: '.', spacing: Alone, span: bytes(1147..1148) }, Ident { sym: enumerate, span: bytes(1148..1157) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1157..1159) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: let, span: bytes(1170..1173) }, Ident { sym: line_num, span: bytes(1174..1182) }, Punct { char: '=', spacing: Alone, span: bytes(1183..1184) }, Ident { sym: start, span: bytes(1185..1190) }, Punct { char: '+', spacing: Alone, span: bytes(1191..1192) }, Ident { sym: i, span: bytes(1193..1194) }, Punct { char: '+', spacing: Alone, span: bytes(1195..1196) }, Literal { lit: 1, span: bytes(1197..1198) }, Punct { char: ';', spacing: Alone, span: bytes(1198..1199) }, Ident { sym: let, span: bytes(1208..1211) }, Ident { sym: marker, span: bytes(1212..1218) }, Punct { char: '=', spacing: Alone, span: bytes(1219..1220) }, Ident { sym: if, span: bytes(1221..1223) }, Ident { sym: line_num, span: bytes(1224..1232) }, Punct { char: '=', spacing: Joint, span: bytes(1233..1234) }, Punct { char: '=', spacing: Alone, span: bytes(1234..1235) }, Ident { sym: target_line, span: bytes(1236..1247) }, Punct { char: '+', spacing: Alone, span: bytes(1248..1249) }, Literal { lit: 1, span: bytes(1250..1251) }, Group { delimiter: Brace, stream: TokenStream [Literal { lit: "", span: bytes(1266..1269) }], span: bytes(1252..1279) }, Ident { sym: else, span: bytes(1280..1284) }, Group { delimiter: Brace, stream: TokenStream [Literal { lit: " ", span: bytes(1299..1302) }], span: bytes(1285..1312) }, Punct { char: ';', spacing: Alone, span: bytes(1312..1313) }, Ident { sym: let, span: bytes(1322..1325) }, Ident { sym: line_num_text, span: bytes(1326..1339) }, Punct { char: '=', spacing: Alone, span: bytes(1340..1341) }, Ident { sym: format, span: bytes(1342..1348) }, Punct { char: '!', spacing: Alone, span: bytes(1348..1349) }, Group { delimiter: Parenthesis, stream: TokenStream [Literal { lit: "{marker} {line_num:4} | ", span: bytes(1350..1376) }], span: bytes(1349..1377) }, Punct { char: ';', spacing: Alone, span: bytes(1377..1378) }, Ident { sym: let, span: bytes(1388..1391) }, Ident { sym: highlighted, span: bytes(1392..1403) }, Punct { char: '=', spacing: Alone, span: bytes(1404..1405) }, Ident { sym: highlight_lines, span: bytes(1406..1421) }, Punct { char: '.', spacing: Alone, span: bytes(1434..1435) }, Ident { sym: highlight_line, span: bytes(1435..1449) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: line_text, span: bytes(1450..1459) }, Punct { char: ',', spacing: Alone, span: bytes(1459..1460) }, Punct { char: '&', spacing: Alone, span: bytes(1461..1462) }, Ident { sym: SYNTAX_SET, span: bytes(1462..1472) }], span: bytes(1449..1473) }, Punct { char: '.', spacing: Alone, span: bytes(1486..1487) }, Ident { sym: unwrap, span: bytes(1487..1493) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1493..1495) }, Punct { char: ';', spacing: Alone, span: bytes(1495..1496) }, Ident { sym: let, span: bytes(1506..1509) }, Ident { sym: mut, span: bytes(1510..1513) }, Ident { sym: spans, span: bytes(1514..1519) }, Punct { char: '=', spacing: Alone, span: bytes(1520..1521) }, Ident { sym: vec, span: bytes(1522..1525) }, Punct { char: '!', spacing: Alone, span: bytes(1525..1526) }, Group { delimiter: Bracket, stream: TokenStream [Ident { sym: Span, span: bytes(1527..1531) }, Punct { char: ':', spacing: Joint, span: bytes(1531..1532) }, Punct { char: ':', spacing: Alone, span: bytes(1532..1533) }, Ident { sym: raw, span: bytes(1533..1536) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: line_num_text, span: bytes(1537..1550) }], span: bytes(1536..1551) }], span: bytes(1526..1552) }, Punct { char: ';', spacing: Alone, span: bytes(1552..1553) }, Ident { sym: for, span: bytes(1562..1565) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: style, span: bytes(1567..1572) }, Punct { char: ',', spacing: Alone, span: bytes(1572..1573) }, Ident { sym: text, span: bytes(1574..1578) }], span: bytes(1566..1579) }, Ident { sym: in, span: bytes(1580..1582) }, Ident { sym: highlighted, span: bytes(1583..1594) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: spans, span: bytes(1609..1614) }, Punct { char: '.', spacing: Alone, span: bytes(1614..1615) }, Ident { sym: push, span: bytes(1615..1619) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: Span, span: bytes(1620..1624) }, Punct { char: ':', spacing: Joint, span: bytes(1624..1625) }, Punct { char: ':', spacing: Alone, span: bytes(1625..1626) }, Ident { sym: styled, span: bytes(1626..1632) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: text, span: bytes(1650..1654) }, Punct { char: '.', spacing: Alone, span: bytes(1654..1655) }, Ident { sym: to_string, span: bytes(1655..1664) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1664..1666) }, Punct { char: ',', spacing: Alone, span: bytes(1666..1667) }, Ident { sym: Style, span: bytes(1684..1689) }, Punct { char: ':', spacing: Joint, span: bytes(1689..1690) }, Punct { char: ':', spacing: Alone, span: bytes(1690..1691) }, Ident { sym: default, span: bytes(1691..1698) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1698..1700) }, Punct { char: '.', spacing: Alone, span: bytes(1700..1701) }, Ident { sym: fg, span: bytes(1701..1703) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: Color, span: bytes(1704..1709) }, Punct { char: ':', spacing: Joint, span: bytes(1709..1710) }, Punct { char: ':', spacing: Alone, span: bytes(1710..1711) }, Ident { sym: Rgb, span: bytes(1711..1714) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: style, span: bytes(1736..1741) }, Punct { char: '.', spacing: Alone, span: bytes(1741..1742) }, Ident { sym: foreground, span: bytes(1742..1752) }, Punct { char: '.', spacing: Alone, span: bytes(1752..1753) }, Ident { sym: r, span: bytes(1753..1754) }, Punct { char: ',', spacing: Alone, span: bytes(1754..1755) }, Ident { sym: style, span: bytes(1776..1781) }, Punct { char: '.', spacing: Alone, span: bytes(1781..1782) }, Ident { sym: foreground, span: bytes(1782..1792) }, Punct { char: '.', spacing: Alone, span: bytes(1792..1793) }, Ident { sym: g, span: bytes(1793..1794) }, Punct { char: ',', spacing: Alone, span: bytes(1794..1795) }, Ident { sym: style, span: bytes(1816..1821) }, Punct { char: '.', spacing: Alone, span: bytes(1821..1822) }, Ident { sym: foreground, span: bytes(1822..1832) }, Punct { char: '.', spacing: Alone, span: bytes(1832..1833) }, Ident { sym: b, span: bytes(1833..1834) }, Punct { char: ',', spacing: Alone, span: bytes(1834..1835) }], span: bytes(1714..1853) }], span: bytes(1703..1854) }, Punct { char: ',', spacing: Alone, span: bytes(1854..1855) }], span: bytes(1632..1869) }], span: bytes(1619..1870) }, Punct { char: ';', spacing: Alone, span: bytes(1870..1871) }], span: bytes(1595..1881) }, Ident { sym: display_lines, span: bytes(1891..1904) }, Punct { char: '.', spacing: Alone, span: bytes(1904..1905) }, Ident { sym: push, span: bytes(1905..1909) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: Line, span: bytes(1910..1914) }, Punct { char: ':', spacing: Joint, span: bytes(1914..1915) }, Punct { char: ':', spacing: Alone, span: bytes(1915..1916) }, Ident { sym: from, span: bytes(1916..1920) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: spans, span: bytes(1921..1926) }], span: bytes(1920..1927) }], span: bytes(1909..1928) }, Punct { char: ';', spacing: Alone, span: bytes(1928..1929) }], span: bytes(1160..1935) }, Ident { sym: display_lines, span: bytes(1941..1954) }], span: bytes(767..1956) }) })
[SYNCDOC DEBUG] Processing item type: Function
[SYNCDOC DEBUG] Processing item: Function(FnSig { attributes: Some(Repeats<1, 18446744073709551615, syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(1958..2034) }, Punct { char: '=', spacing: Alone, span: bytes(1958..2034) }, Literal { lit: " Highlight a single line with syntax coloring for a given file extension.", span: bytes(1958..2034) }], span: bytes(1958..2034) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(2035..2038) }, Punct { char: '=', spacing: Alone, span: bytes(2035..2038) }, Literal { lit: "", span: bytes(2035..2038) }], span: bytes(2035..2038) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(2039..2107) }, Punct { char: '=', spacing: Alone, span: bytes(2039..2107) }, Literal { lit: " Falls back to plain text rendering if syntax highlighting fails.", span: bytes(2039..2107) }], span: bytes(2039..2107) }) }, delimiter: Some(Nothing) }])), visibility: Some(Public(KPub(Cached<proc_macro2::Ident> { value: Ident { sym: pub, span: bytes(2108..2111) }, string: "pub" }))), const_kw: None, async_kw: None, unsafe_kw: None, extern_kw: None, _fn: KFn(Cached<proc_macro2::Ident> { value: Ident { sym: fn, span: bytes(2112..2114) }, string: "fn" }), name: Ident { sym: highlight_line_with_extension, span: bytes(2115..2144) }, generics: None, params: ParenthesisGroupContaining < core::option::Option<unsynn::container::DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>>>(Some(DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>([Delimited<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>> { value: Named(NamedParam { mut_kw: None, name: Ident { sym: line, span: bytes(2145..2149) }, _colon: Operator<':'>, param_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: '&', spacing: Alone, span: bytes(2151..2152) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: str, span: bytes(2152..2155) })) }, delimiter: Some(Nothing) }]) }), delimiter: Some(Operator<','>) }, Delimited<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>> { value: Named(NamedParam { mut_kw: None, name: Ident { sym: extension, span: bytes(2157..2166) }, _colon: Operator<':'>, param_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: '&', spacing: Alone, span: bytes(2168..2169) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::operator::Operator<','>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<','>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: str, span: bytes(2169..2172) })) }, delimiter: Some(Nothing) }]) }), delimiter: None }]))), return_type: Some(ReturnTypeFn { _arrow: Operator<'->'>, return_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::group::BraceGroup>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: Line, span: bytes(2177..2181) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::group::BraceGroup>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>> { first: Operator<'<'>, second: [Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Punct { char: '\'', spacing: Joint, span: bytes(2182..2183) })) }, Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: static, span: bytes(2183..2189) })) }], third: Operator<'>'> })) }, delimiter: Some(Nothing) }]) }), where_clause: None, body: BraceGroup(Group { delimiter: Brace, stream: TokenStream [Ident { sym: let, span: bytes(2197..2200) }, Ident { sym: theme, span: bytes(2201..2206) }, Punct { char: '=', spacing: Alone, span: bytes(2207..2208) }, Punct { char: '&', spacing: Alone, span: bytes(2209..2210) }, Ident { sym: THEME_SET, span: bytes(2210..2219) }, Punct { char: '.', spacing: Alone, span: bytes(2219..2220) }, Ident { sym: themes, span: bytes(2220..2226) }, Group { delimiter: Bracket, stream: TokenStream [Literal { lit: "base16-eighties.dark", span: bytes(2227..2249) }], span: bytes(2226..2250) }, Punct { char: ';', spacing: Alone, span: bytes(2250..2251) }, Ident { sym: let, span: bytes(2256..2259) }, Ident { sym: syntax_ref, span: bytes(2260..2270) }, Punct { char: '=', spacing: Alone, span: bytes(2271..2272) }, Ident { sym: SYNTAX_SET, span: bytes(2273..2283) }, Punct { char: '.', spacing: Alone, span: bytes(2292..2293) }, Ident { sym: find_syntax_by_extension, span: bytes(2293..2317) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: extension, span: bytes(2318..2327) }], span: bytes(2317..2328) }, Punct { char: '.', spacing: Alone, span: bytes(2337..2338) }, Ident { sym: unwrap_or_else, span: bytes(2338..2352) }, Group { delimiter: Parenthesis, stream: TokenStream [Punct { char: '|', spacing: Joint, span: bytes(2353..2354) }, Punct { char: '|', spacing: Alone, span: bytes(2354..2355) }, Ident { sym: SYNTAX_SET, span: bytes(2356..2366) }, Punct { char: '.', spacing: Alone, span: bytes(2366..2367) }, Ident { sym: find_syntax_plain_text, span: bytes(2367..2389) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(2389..2391) }], span: bytes(2352..2392) }, Punct { char: ';', spacing: Alone, span: bytes(2392..2393) }, Ident { sym: let, span: bytes(2399..2402) }, Ident { sym: mut, span: bytes(2403..2406) }, Ident { sym: highlight_lines, span: bytes(2407..2422) }, Punct { char: '=', spacing: Alone, span: bytes(2423..2424) }, Ident { sym: HighlightLines, span: bytes(2425..2439) }, Punct { char: ':', spacing: Joint, span: bytes(2439..2440) }, Punct { char: ':', spacing: Alone, span: bytes(2440..2441) }, Ident { sym: new, span: bytes(2441..2444) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: syntax_ref, span: bytes(2445..2455) }, Punct { char: ',', spacing: Alone, span: bytes(2455..2456) }, Ident { sym: theme, span: bytes(2457..2462) }], span: bytes(2444..2463) }, Punct { char: ';', spacing: Alone, span: bytes(2463..2464) }, Ident { sym: match, span: bytes(2531..2536) }, Ident { sym: highlight_lines, span: bytes(2537..2552) }, Punct { char: '.', spacing: Alone, span: bytes(2552..2553) }, Ident { sym: highlight_line, span: bytes(2553..2567) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: line, span: bytes(2568..2572) }, Punct { char: ',', spacing: Alone, span: bytes(2572..2573) }, Punct { char: '&', spacing: Alone, span: bytes(2574..2575) }, Ident { sym: SYNTAX_SET, span: bytes(2575..2585) }], span: bytes(2567..2586) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: Ok, span: bytes(2597..2599) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: highlighted, span: bytes(2600..2611) }], span: bytes(2599..2612) }, Punct { char: '=', spacing: Joint, span: bytes(2613..2614) }, Punct { char: '>', spacing: Alone, span: bytes(2614..2615) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: let, span: bytes(2630..2633) }, Ident { sym: mut, span: bytes(2634..2637) }, Ident { sym: spans, span: bytes(2638..2643) }, Punct { char: '=', spacing: Alone, span: bytes(2644..2645) }, Ident { sym: Vec, span: bytes(2646..2649) }, Punct { char: ':', spacing: Joint, span: bytes(2649..2650) }, Punct { char: ':', spacing: Alone, span: bytes(2650..2651) }, Ident { sym: new, span: bytes(2651..2654) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(2654..2656) }, Punct { char: ';', spacing: Alone, span: bytes(2656..2657) }, Ident { sym: for, span: bytes(2670..2673) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: style, span: bytes(2675..2680) }, Punct { char: ',', spacing: Alone, span: bytes(2680..2681) }, Ident { sym: text, span: bytes(2682..2686) }], span: bytes(2674..2687) }, Ident { sym: in, span: bytes(2688..2690) }, Ident { sym: highlighted, span: bytes(2691..2702) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: spans, span: bytes(2721..2726) }, Punct { char: '.', spacing: Alone, span: bytes(2726..2727) }, Ident { sym: push, span: bytes(2727..2731) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: Span, span: bytes(2732..2736) }, Punct { char: ':', spacing: Joint, span: bytes(2736..2737) }, Punct { char: ':', spacing: Alone, span: bytes(2737..2738) }, Ident { sym: styled, span: bytes(2738..2744) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: text, span: bytes(2766..2770) }, Punct { char: '.', spacing: Alone, span: bytes(2770..2771) }, Ident { sym: to_string, span: bytes(2771..2780) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(2780..2782) }, Punct { char: ',', spacing: Alone, span: bytes(2782..2783) }, Ident { sym: Style, span: bytes(2804..2809) }, Punct { char: ':', spacing: Joint, span: bytes(2809..2810) }, Punct { char: ':', spacing: Alone, span: bytes(2810..2811) }, Ident { sym: default, span: bytes(2811..2818) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(2818..2820) }, Punct { char: '.', spacing: Alone, span: bytes(2820..2821) }, Ident { sym: fg, span: bytes(2821..2823) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: Color, span: bytes(2824..2829) }, Punct { char: ':', spacing: Joint, span: bytes(2829..2830) }, Punct { char: ':', spacing: Alone, span: bytes(2830..2831) }, Ident { sym: Rgb, span: bytes(2831..2834) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: style, span: bytes(2860..2865) }, Punct { char: '.', spacing: Alone, span: bytes(2865..2866) }, Ident { sym: foreground, span: bytes(2866..2876) }, Punct { char: '.', spacing: Alone, span: bytes(2876..2877) }, Ident { sym: r, span: bytes(2877..2878) }, Punct { char: ',', spacing: Alone, span: bytes(2878..2879) }, Ident { sym: style, span: bytes(2904..2909) }, Punct { char: '.', spacing: Alone, span: bytes(2909..2910) }, Ident { sym: foreground, span: bytes(2910..2920) }, Punct { char: '.', spacing: Alone, span: bytes(2920..2921) }, Ident { sym: g, span: bytes(2921..2922) }, Punct { char: ',', spacing: Alone, span: bytes(2922..2923) }, Ident { sym: style, span: bytes(2948..2953) }, Punct { char: '.', spacing: Alone, span: bytes(2953..2954) }, Ident { sym: foreground, span: bytes(2954..2964) }, Punct { char: '.', spacing: Alone, span: bytes(2964..2965) }, Ident { sym: b, span: bytes(2965..2966) }, Punct { char: ',', spacing: Alone, span: bytes(2966..2967) }], span: bytes(2834..2989) }], span: bytes(2823..2990) }, Punct { char: ',', spacing: Alone, span: bytes(2990..2991) }], span: bytes(2744..3009) }], span: bytes(2731..3010) }, Punct { char: ';', spacing: Alone, span: bytes(3010..3011) }], span: bytes(2703..3025) }, Ident { sym: Line, span: bytes(3038..3042) }, Punct { char: ':', spacing: Joint, span: bytes(3042..3043) }, Punct { char: ':', spacing: Alone, span: bytes(3043..3044) }, Ident { sym: from, span: bytes(3044..3048) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: spans, span: bytes(3049..3054) }], span: bytes(3048..3055) }], span: bytes(2616..3065) }, Ident { sym: Err, span: bytes(3074..3077) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: _, span: bytes(3078..3079) }], span: bytes(3077..3080) }, Punct { char: '=', spacing: Joint, span: bytes(3081..3082) }, Punct { char: '>', spacing: Alone, span: bytes(3082..3083) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: Line, span: bytes(3159..3163) }, Punct { char: ':', spacing: Joint, span: bytes(3163..3164) }, Punct { char: ':', spacing: Alone, span: bytes(3164..3165) }, Ident { sym: from, span: bytes(3165..3169) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: line, span: bytes(3170..3174) }, Punct { char: '.', spacing: Alone, span: bytes(3174..3175) }, Ident { sym: to_string, span: bytes(3175..3184) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(3184..3186) }], span: bytes(3169..3187) }], span: bytes(3084..3197) }], span: bytes(2587..3203) }], span: bytes(2191..3205) }) })
[SYNCDOC DEBUG] 
=== REFORMAT START ===
[SYNCDOC DEBUG] Original length: 3207
[SYNCDOC DEBUG] Transformed length: 2447
[SYNCDOC DEBUG] Formatted original length: 3207
[SYNCDOC DEBUG] Formatted transformed length: 2781
[SYNCDOC DEBUG] 
--- Formatted Original ---
[SYNCDOC DEBUG] //! Syntax highlighting for displaying source code with visual distinction between language elements.
use ratatui::{
    style::{Color, Style},
    text::{Line, Span},
};
use syntect::easy::HighlightLines;
use syntect::highlighting::ThemeSet;
use syntect::parsing::SyntaxSet;

static SYNTAX_SET: std::sync::LazyLock<SyntaxSet> =
    std::sync::LazyLock::new(SyntaxSet::load_defaults_newlines);
static THEME_SET: std::sync::LazyLock<ThemeSet> = std::sync::LazyLock::new(ThemeSet::load_defaults);

/// Highlight source lines with syntax coloring.
///
/// # Panics
///
/// Panics if syntax highlighting fails for any line in the input.
pub fn highlight_source_lines(
    lines: &[&str],
    start: usize,
    end: usize,
    target_line: usize,
) -> Vec<Line<'static>> {
    let theme = &THEME_SET.themes["base16-eighties.dark"];
    let syntax_ref = SYNTAX_SET
        .find_syntax_by_extension("rs")
        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());

    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);
    let mut display_lines: Vec<Line<'static>> = Vec::new();

    for (i, line_text) in lines[start..end].iter().enumerate() {
        let line_num = start + i + 1;
        let marker = if line_num == target_line + 1 {
            ""
        } else {
            " "
        };
        let line_num_text = format!("{marker} {line_num:4} | ");

        let highlighted = highlight_lines
            .highlight_line(line_text, &SYNTAX_SET)
            .unwrap();

        let mut spans = vec![Span::raw(line_num_text)];
        for (style, text) in highlighted {
            spans.push(Span::styled(
                text.to_string(),
                Style::default().fg(Color::Rgb(
                    style.foreground.r,
                    style.foreground.g,
                    style.foreground.b,
                )),
            ));
        }

        display_lines.push(Line::from(spans));
    }

    display_lines
}

/// Highlight a single line with syntax coloring for a given file extension.
///
/// Falls back to plain text rendering if syntax highlighting fails.
pub fn highlight_line_with_extension(line: &str, extension: &str) -> Line<'static> {
    let theme = &THEME_SET.themes["base16-eighties.dark"];
    let syntax_ref = SYNTAX_SET
        .find_syntax_by_extension(extension)
        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());

    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);

    // Try to highlight, fall back to plain text if it fails
    match highlight_lines.highlight_line(line, &SYNTAX_SET) {
        Ok(highlighted) => {
            let mut spans = Vec::new();
            for (style, text) in highlighted {
                spans.push(Span::styled(
                    text.to_string(),
                    Style::default().fg(Color::Rgb(
                        style.foreground.r,
                        style.foreground.g,
                        style.foreground.b,
                    )),
                ));
            }
            Line::from(spans)
        }
        Err(_) => {
            // Fall back to plain text if highlighting fails
            Line::from(line.to_string())
        }
    }
}

[SYNCDOC DEBUG] 
--- Formatted Transformed ---
[SYNCDOC DEBUG] # ! [doc = syncdoc :: module_doc ! ()]
use ratatui::{
    style::{Color, Style},
    text::{Line, Span},
};
use syntect::easy::HighlightLines;
use syntect::highlighting::ThemeSet;
use syntect::parsing::SyntaxSet;
#[syncdoc::omnidoc]
static SYNTAX_SET: std::sync::LazyLock<SyntaxSet> =
    std::sync::LazyLock::new(SyntaxSet::load_defaults_newlines);
#[syncdoc::omnidoc]
static THEME_SET: std::sync::LazyLock<ThemeSet> = std::sync::LazyLock::new(ThemeSet::load_defaults);
#[syncdoc::omnidoc]
pub fn highlight_source_lines(
    lines: &[&str],
    start: usize,
    end: usize,
    target_line: usize,
) -> Vec<Line<'static>> {
    let theme = &THEME_SET.themes["base16-eighties.dark"];
    let syntax_ref = SYNTAX_SET
        .find_syntax_by_extension("rs")
        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());
    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);
    let mut display_lines: Vec<Line<'static>> = Vec::new();
    for (i, line_text) in lines[start..end].iter().enumerate() {
        let line_num = start + i + 1;
        let marker = if line_num == target_line + 1 {
            ""
        } else {
            " "
        };
        let line_num_text = format!("{marker} {line_num:4} | ");
        let highlighted = highlight_lines
            .highlight_line(line_text, &SYNTAX_SET)
            .unwrap();
        let mut spans = vec![Span::raw(line_num_text)];
        for (style, text) in highlighted {
            spans.push(Span::styled(
                text.to_string(),
                Style::default().fg(Color::Rgb(
                    style.foreground.r,
                    style.foreground.g,
                    style.foreground.b,
                )),
            ));
        }
        display_lines.push(Line::from(spans));
    }
    display_lines
}
#[syncdoc::omnidoc]
pub fn highlight_line_with_extension(line: &str, extension: &str) -> Line<'static> {
    let theme = &THEME_SET.themes["base16-eighties.dark"];
    let syntax_ref = SYNTAX_SET
        .find_syntax_by_extension(extension)
        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());
    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);
    match highlight_lines.highlight_line(line, &SYNTAX_SET) {
        Ok(highlighted) => {
            let mut spans = Vec::new();
            for (style, text) in highlighted {
                spans.push(Span::styled(
                    text.to_string(),
                    Style::default().fg(Color::Rgb(
                        style.foreground.r,
                        style.foreground.g,
                        style.foreground.b,
                    )),
                ));
            }
            Line::from(spans)
        }
        Err(_) => Line::from(line.to_string()),
    }
}

[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 96
[SYNCDOC DEBUG] After lines: 77
[SYNCDOC DEBUG] Hunks: 14
[SYNCDOC DEBUG] Hunk 0: before[0..1] -> after[0..1]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [0]: "//! Syntax highlighting for displaying source code with visual distinction between language elements."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [0]: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG] Hunk 1: before[8..9] -> after[8..9]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [8]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [8]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 2: before[11..11] -> after[11..12]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [11]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 3: before[12..18] -> after[13..14]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [12]: ""
[SYNCDOC DEBUG]     [13]: "/// Highlight source lines with syntax coloring."
[SYNCDOC DEBUG]     [14]: "///"
[SYNCDOC DEBUG]     [15]: "/// # Panics"
[SYNCDOC DEBUG]     [16]: "///"
[SYNCDOC DEBUG]     [17]: "/// Panics if syntax highlighting fails for any line in the input."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [13]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 4: before[28..29] -> after[24..24]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [28]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 5: before[31..32] -> after[26..26]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [31]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 6: before[40..41] -> after[34..34]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [40]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 7: before[44..45] -> after[37..37]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [44]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 8: before[56..57] -> after[48..48]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [56]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 9: before[59..60] -> after[50..50]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [59]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 10: before[62..66] -> after[52..53]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [62]: ""
[SYNCDOC DEBUG]     [63]: "/// Highlight a single line with syntax coloring for a given file extension."
[SYNCDOC DEBUG]     [64]: "///"
[SYNCDOC DEBUG]     [65]: "/// Falls back to plain text rendering if syntax highlighting fails."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [52]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 11: before[71..72] -> after[58..58]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [71]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 12: before[73..75] -> after[59..59]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [73]: ""
[SYNCDOC DEBUG]     [74]: "    // Try to highlight, fall back to plain text if it fails"
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 13: before[90..94] -> after[74..75]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [90]: "        Err(_) => {"
[SYNCDOC DEBUG]     [91]: "            // Fall back to plain text if highlighting fails"
[SYNCDOC DEBUG]     [92]: "            Line::from(line.to_string())"
[SYNCDOC DEBUG]     [93]: "        }"
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [74]: "        Err(_) => Line::from(line.to_string()),"
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] DEBUG restore: Found 14 hunks
[SYNCDOC DEBUG]   Hunk 0: before[0..1] after[0..1]
[SYNCDOC DEBUG]   Hunk 1: before[8..9] after[8..9]
[SYNCDOC DEBUG]   Hunk 2: before[11..11] after[11..12]
[SYNCDOC DEBUG]   Hunk 3: before[12..18] after[13..14]
[SYNCDOC DEBUG]   Hunk 4: before[28..29] after[24..24]
[SYNCDOC DEBUG]   Hunk 5: before[31..32] after[26..26]
[SYNCDOC DEBUG]   Hunk 6: before[40..41] after[34..34]
[SYNCDOC DEBUG]   Hunk 7: before[44..45] after[37..37]
[SYNCDOC DEBUG]   Hunk 8: before[56..57] after[48..48]
[SYNCDOC DEBUG]   Hunk 9: before[59..60] after[50..50]
[SYNCDOC DEBUG]   Hunk 10: before[62..66] after[52..53]
[SYNCDOC DEBUG]   Hunk 11: before[71..72] after[58..58]
[SYNCDOC DEBUG]   Hunk 12: before[73..75] after[59..59]
[SYNCDOC DEBUG]   Hunk 13: before[90..94] after[74..75]
[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 96
[SYNCDOC DEBUG] After lines: 77
[SYNCDOC DEBUG] Hunks: 14
[SYNCDOC DEBUG] Hunk 0: before[0..1] -> after[0..1]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [0]: "//! Syntax highlighting for displaying source code with visual distinction between language elements."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [0]: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG] Hunk 1: before[8..9] -> after[8..9]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [8]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [8]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 2: before[11..11] -> after[11..12]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [11]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 3: before[12..18] -> after[13..14]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [12]: ""
[SYNCDOC DEBUG]     [13]: "/// Highlight source lines with syntax coloring."
[SYNCDOC DEBUG]     [14]: "///"
[SYNCDOC DEBUG]     [15]: "/// # Panics"
[SYNCDOC DEBUG]     [16]: "///"
[SYNCDOC DEBUG]     [17]: "/// Panics if syntax highlighting fails for any line in the input."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [13]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 4: before[28..29] -> after[24..24]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [28]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 5: before[31..32] -> after[26..26]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [31]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 6: before[40..41] -> after[34..34]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [40]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 7: before[44..45] -> after[37..37]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [44]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 8: before[56..57] -> after[48..48]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [56]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 9: before[59..60] -> after[50..50]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [59]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 10: before[62..66] -> after[52..53]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [62]: ""
[SYNCDOC DEBUG]     [63]: "/// Highlight a single line with syntax coloring for a given file extension."
[SYNCDOC DEBUG]     [64]: "///"
[SYNCDOC DEBUG]     [65]: "/// Falls back to plain text rendering if syntax highlighting fails."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [52]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 11: before[71..72] -> after[58..58]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [71]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 12: before[73..75] -> after[59..59]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [73]: ""
[SYNCDOC DEBUG]     [74]: "    // Try to highlight, fall back to plain text if it fails"
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 13: before[90..94] -> after[74..75]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [90]: "        Err(_) => {"
[SYNCDOC DEBUG]     [91]: "            // Fall back to plain text if highlighting fails"
[SYNCDOC DEBUG]     [92]: "            Line::from(line.to_string())"
[SYNCDOC DEBUG]     [93]: "        }"
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [74]: "        Err(_) => Line::from(line.to_string()),"
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 0..1 (adds 1 lines, removes 1 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 8..9 (adds 1 lines, removes 1 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 11..11 (adds 1 lines, removes 0 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 12..18 (adds 1 lines, removes 6 lines)
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 28..29
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 31..32
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 40..41
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 44..45
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 56..57
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 59..60
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 62..66 (adds 1 lines, removes 4 lines)
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 71..72
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 73..75
[SYNCDOC DEBUG] Skipping irrelevant hunk at lines 90..94
[SYNCDOC DEBUG] Original != Result: true
[SYNCDOC DEBUG] 
=== BOOKEND DEBUG START ===
[SYNCDOC DEBUG] Input code length: 2936
[SYNCDOC DEBUG] 
Line 0: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]       no_spaces: "#![doc=syncdoc::module_doc!()]"
[SYNCDOC DEBUG]       -> Starts with #!
[SYNCDOC DEBUG]       -> Checking trigger "syncdoc::module_doc!": true
[SYNCDOC DEBUG]       -> Has trigger: true
[SYNCDOC DEBUG]   -> NEEDS BOOKENDING
[SYNCDOC DEBUG]     reformat_line for: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]     extract_bookend_content:
[SYNCDOC DEBUG]       trimmed: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]       no_spaces: "#![doc=syncdoc::module_doc!()]"
[SYNCDOC DEBUG]       Found #![ at position: 0
[SYNCDOC DEBUG]       Found ] at position: 29
[SYNCDOC DEBUG]       Extracted content: "doc=syncdoc::module_doc!()"
[SYNCDOC DEBUG]     Got content: "doc=syncdoc::module_doc!()"
[SYNCDOC DEBUG]     Created bookended expr: "const _: i32 = { doc=syncdoc::module_doc!() };"
[SYNCDOC DEBUG]     Rustfmt output: "const _: i32 = { doc = syncdoc::module_doc!() };\n"
[SYNCDOC DEBUG]     Stripped bookends: "doc = syncdoc::module_doc!()"
[SYNCDOC DEBUG]     Final result: "#![doc = syncdoc::module_doc!()]"
[SYNCDOC DEBUG]   -> Reformatted to: "#![doc = syncdoc::module_doc!()]"
[SYNCDOC DEBUG] 
Line 1: "use ratatui::{"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "use ratatui::{"
[SYNCDOC DEBUG]       no_spaces: "useratatui::{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 2: "    style::{Color, Style},"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "style::{Color, Style},"
[SYNCDOC DEBUG]       no_spaces: "style::{Color,Style},"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 3: "    text::{Line, Span},"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "text::{Line, Span},"
[SYNCDOC DEBUG]       no_spaces: "text::{Line,Span},"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 4: "};"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "};"
[SYNCDOC DEBUG]       no_spaces: "};"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 5: "use syntect::easy::HighlightLines;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "use syntect::easy::HighlightLines;"
[SYNCDOC DEBUG]       no_spaces: "usesyntect::easy::HighlightLines;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 6: "use syntect::highlighting::ThemeSet;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "use syntect::highlighting::ThemeSet;"
[SYNCDOC DEBUG]       no_spaces: "usesyntect::highlighting::ThemeSet;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 7: "use syntect::parsing::SyntaxSet;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "use syntect::parsing::SyntaxSet;"
[SYNCDOC DEBUG]       no_spaces: "usesyntect::parsing::SyntaxSet;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 8: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 9: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       no_spaces: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 10: "static SYNTAX_SET: std::sync::LazyLock<SyntaxSet> ="
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "static SYNTAX_SET: std::sync::LazyLock<SyntaxSet> ="
[SYNCDOC DEBUG]       no_spaces: "staticSYNTAX_SET:std::sync::LazyLock<SyntaxSet>="
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 11: "    std::sync::LazyLock::new(SyntaxSet::load_defaults_newlines);"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "std::sync::LazyLock::new(SyntaxSet::load_defaults_newlines);"
[SYNCDOC DEBUG]       no_spaces: "std::sync::LazyLock::new(SyntaxSet::load_defaults_newlines);"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 12: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       no_spaces: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 13: "static THEME_SET: std::sync::LazyLock<ThemeSet> = std::sync::LazyLock::new(ThemeSet::load_defaults);"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "static THEME_SET: std::sync::LazyLock<ThemeSet> = std::sync::LazyLock::new(ThemeSet::load_defaults);"
[SYNCDOC DEBUG]       no_spaces: "staticTHEME_SET:std::sync::LazyLock<ThemeSet>=std::sync::LazyLock::new(ThemeSet::load_defaults);"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 14: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 15: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       no_spaces: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 16: "pub fn highlight_source_lines("
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub fn highlight_source_lines("
[SYNCDOC DEBUG]       no_spaces: "pubfnhighlight_source_lines("
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 17: "    lines: &[&str],"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "lines: &[&str],"
[SYNCDOC DEBUG]       no_spaces: "lines:&[&str],"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 18: "    start: usize,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "start: usize,"
[SYNCDOC DEBUG]       no_spaces: "start:usize,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 19: "    end: usize,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "end: usize,"
[SYNCDOC DEBUG]       no_spaces: "end:usize,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 20: "    target_line: usize,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "target_line: usize,"
[SYNCDOC DEBUG]       no_spaces: "target_line:usize,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 21: ") -> Vec<Line<'static>> {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ") -> Vec<Line<'static>> {"
[SYNCDOC DEBUG]       no_spaces: ")->Vec<Line<'static>>{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 22: "    let theme = &THEME_SET.themes[\"base16-eighties.dark\"];"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let theme = &THEME_SET.themes[\"base16-eighties.dark\"];"
[SYNCDOC DEBUG]       no_spaces: "lettheme=&THEME_SET.themes[\"base16-eighties.dark\"];"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 23: "    let syntax_ref = SYNTAX_SET"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let syntax_ref = SYNTAX_SET"
[SYNCDOC DEBUG]       no_spaces: "letsyntax_ref=SYNTAX_SET"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 24: "        .find_syntax_by_extension(\"rs\")"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ".find_syntax_by_extension(\"rs\")"
[SYNCDOC DEBUG]       no_spaces: ".find_syntax_by_extension(\"rs\")"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 25: "        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ".unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());"
[SYNCDOC DEBUG]       no_spaces: ".unwrap_or_else(||SYNTAX_SET.find_syntax_plain_text());"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 26: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 27: "    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let mut highlight_lines = HighlightLines::new(syntax_ref, theme);"
[SYNCDOC DEBUG]       no_spaces: "letmuthighlight_lines=HighlightLines::new(syntax_ref,theme);"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 28: "    let mut display_lines: Vec<Line<'static>> = Vec::new();"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let mut display_lines: Vec<Line<'static>> = Vec::new();"
[SYNCDOC DEBUG]       no_spaces: "letmutdisplay_lines:Vec<Line<'static>>=Vec::new();"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 29: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 30: "    for (i, line_text) in lines[start..end].iter().enumerate() {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "for (i, line_text) in lines[start..end].iter().enumerate() {"
[SYNCDOC DEBUG]       no_spaces: "for(i,line_text)inlines[start..end].iter().enumerate(){"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 31: "        let line_num = start + i + 1;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let line_num = start + i + 1;"
[SYNCDOC DEBUG]       no_spaces: "letline_num=start+i+1;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 32: "        let marker = if line_num == target_line + 1 {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let marker = if line_num == target_line + 1 {"
[SYNCDOC DEBUG]       no_spaces: "letmarker=ifline_num==target_line+1{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 33: "            \"\""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "\"\""
[SYNCDOC DEBUG]       no_spaces: "\"\""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 34: "        } else {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "} else {"
[SYNCDOC DEBUG]       no_spaces: "}else{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 35: "            \" \""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "\" \""
[SYNCDOC DEBUG]       no_spaces: "\"\""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 36: "        };"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "};"
[SYNCDOC DEBUG]       no_spaces: "};"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 37: "        let line_num_text = format!(\"{marker} {line_num:4} | \");"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let line_num_text = format!(\"{marker} {line_num:4} | \");"
[SYNCDOC DEBUG]       no_spaces: "letline_num_text=format!(\"{marker}{line_num:4}|\");"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 38: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 39: "        let highlighted = highlight_lines"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let highlighted = highlight_lines"
[SYNCDOC DEBUG]       no_spaces: "lethighlighted=highlight_lines"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 40: "            .highlight_line(line_text, &SYNTAX_SET)"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ".highlight_line(line_text, &SYNTAX_SET)"
[SYNCDOC DEBUG]       no_spaces: ".highlight_line(line_text,&SYNTAX_SET)"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 41: "            .unwrap();"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ".unwrap();"
[SYNCDOC DEBUG]       no_spaces: ".unwrap();"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 42: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 43: "        let mut spans = vec![Span::raw(line_num_text)];"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let mut spans = vec![Span::raw(line_num_text)];"
[SYNCDOC DEBUG]       no_spaces: "letmutspans=vec![Span::raw(line_num_text)];"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 44: "        for (style, text) in highlighted {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "for (style, text) in highlighted {"
[SYNCDOC DEBUG]       no_spaces: "for(style,text)inhighlighted{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 45: "            spans.push(Span::styled("
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "spans.push(Span::styled("
[SYNCDOC DEBUG]       no_spaces: "spans.push(Span::styled("
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 46: "                text.to_string(),"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "text.to_string(),"
[SYNCDOC DEBUG]       no_spaces: "text.to_string(),"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 47: "                Style::default().fg(Color::Rgb("
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "Style::default().fg(Color::Rgb("
[SYNCDOC DEBUG]       no_spaces: "Style::default().fg(Color::Rgb("
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 48: "                    style.foreground.r,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "style.foreground.r,"
[SYNCDOC DEBUG]       no_spaces: "style.foreground.r,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 49: "                    style.foreground.g,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "style.foreground.g,"
[SYNCDOC DEBUG]       no_spaces: "style.foreground.g,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 50: "                    style.foreground.b,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "style.foreground.b,"
[SYNCDOC DEBUG]       no_spaces: "style.foreground.b,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 51: "                )),"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ")),"
[SYNCDOC DEBUG]       no_spaces: ")),"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 52: "            ));"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "));"
[SYNCDOC DEBUG]       no_spaces: "));"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 53: "        }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 54: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 55: "        display_lines.push(Line::from(spans));"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "display_lines.push(Line::from(spans));"
[SYNCDOC DEBUG]       no_spaces: "display_lines.push(Line::from(spans));"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 56: "    }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 57: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 58: "    display_lines"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "display_lines"
[SYNCDOC DEBUG]       no_spaces: "display_lines"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 59: "}"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 60: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 61: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       no_spaces: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 62: "pub fn highlight_line_with_extension(line: &str, extension: &str) -> Line<'static> {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub fn highlight_line_with_extension(line: &str, extension: &str) -> Line<'static> {"
[SYNCDOC DEBUG]       no_spaces: "pubfnhighlight_line_with_extension(line:&str,extension:&str)->Line<'static>{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 63: "    let theme = &THEME_SET.themes[\"base16-eighties.dark\"];"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let theme = &THEME_SET.themes[\"base16-eighties.dark\"];"
[SYNCDOC DEBUG]       no_spaces: "lettheme=&THEME_SET.themes[\"base16-eighties.dark\"];"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 64: "    let syntax_ref = SYNTAX_SET"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let syntax_ref = SYNTAX_SET"
[SYNCDOC DEBUG]       no_spaces: "letsyntax_ref=SYNTAX_SET"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 65: "        .find_syntax_by_extension(extension)"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ".find_syntax_by_extension(extension)"
[SYNCDOC DEBUG]       no_spaces: ".find_syntax_by_extension(extension)"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 66: "        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ".unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());"
[SYNCDOC DEBUG]       no_spaces: ".unwrap_or_else(||SYNTAX_SET.find_syntax_plain_text());"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 67: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 68: "    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let mut highlight_lines = HighlightLines::new(syntax_ref, theme);"
[SYNCDOC DEBUG]       no_spaces: "letmuthighlight_lines=HighlightLines::new(syntax_ref,theme);"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 69: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 70: "    // Try to highlight, fall back to plain text if it fails"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "// Try to highlight, fall back to plain text if it fails"
[SYNCDOC DEBUG]       no_spaces: "//Trytohighlight,fallbacktoplaintextifitfails"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 71: "    match highlight_lines.highlight_line(line, &SYNTAX_SET) {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "match highlight_lines.highlight_line(line, &SYNTAX_SET) {"
[SYNCDOC DEBUG]       no_spaces: "matchhighlight_lines.highlight_line(line,&SYNTAX_SET){"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 72: "        Ok(highlighted) => {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "Ok(highlighted) => {"
[SYNCDOC DEBUG]       no_spaces: "Ok(highlighted)=>{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 73: "            let mut spans = Vec::new();"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "let mut spans = Vec::new();"
[SYNCDOC DEBUG]       no_spaces: "letmutspans=Vec::new();"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 74: "            for (style, text) in highlighted {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "for (style, text) in highlighted {"
[SYNCDOC DEBUG]       no_spaces: "for(style,text)inhighlighted{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 75: "                spans.push(Span::styled("
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "spans.push(Span::styled("
[SYNCDOC DEBUG]       no_spaces: "spans.push(Span::styled("
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 76: "                    text.to_string(),"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "text.to_string(),"
[SYNCDOC DEBUG]       no_spaces: "text.to_string(),"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 77: "                    Style::default().fg(Color::Rgb("
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "Style::default().fg(Color::Rgb("
[SYNCDOC DEBUG]       no_spaces: "Style::default().fg(Color::Rgb("
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 78: "                        style.foreground.r,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "style.foreground.r,"
[SYNCDOC DEBUG]       no_spaces: "style.foreground.r,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 79: "                        style.foreground.g,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "style.foreground.g,"
[SYNCDOC DEBUG]       no_spaces: "style.foreground.g,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 80: "                        style.foreground.b,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "style.foreground.b,"
[SYNCDOC DEBUG]       no_spaces: "style.foreground.b,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 81: "                    )),"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ")),"
[SYNCDOC DEBUG]       no_spaces: ")),"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 82: "                ));"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "));"
[SYNCDOC DEBUG]       no_spaces: "));"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 83: "            }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 84: "            Line::from(spans)"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "Line::from(spans)"
[SYNCDOC DEBUG]       no_spaces: "Line::from(spans)"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 85: "        }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 86: "        Err(_) => {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "Err(_) => {"
[SYNCDOC DEBUG]       no_spaces: "Err(_)=>{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 87: "            // Fall back to plain text if highlighting fails"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "// Fall back to plain text if highlighting fails"
[SYNCDOC DEBUG]       no_spaces: "//Fallbacktoplaintextifhighlightingfails"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 88: "            Line::from(line.to_string())"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "Line::from(line.to_string())"
[SYNCDOC DEBUG]       no_spaces: "Line::from(line.to_string())"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 89: "        }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 90: "    }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 91: "}"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Final result length: 2930
[SYNCDOC DEBUG] === BOOKEND DEBUG END ===

[SYNCDOC DEBUG] After bookending: 2447
[SYNCDOC DEBUG] 
--- Final Result ---
[SYNCDOC DEBUG] #![doc = syncdoc::module_doc!()]
use ratatui::{
    style::{Color, Style},
    text::{Line, Span},
};
use syntect::easy::HighlightLines;
use syntect::highlighting::ThemeSet;
use syntect::parsing::SyntaxSet;

#[syncdoc::omnidoc]
static SYNTAX_SET: std::sync::LazyLock<SyntaxSet> =
    std::sync::LazyLock::new(SyntaxSet::load_defaults_newlines);
#[syncdoc::omnidoc]
static THEME_SET: std::sync::LazyLock<ThemeSet> = std::sync::LazyLock::new(ThemeSet::load_defaults);

#[syncdoc::omnidoc]
pub fn highlight_source_lines(
    lines: &[&str],
    start: usize,
    end: usize,
    target_line: usize,
) -> Vec<Line<'static>> {
    let theme = &THEME_SET.themes["base16-eighties.dark"];
    let syntax_ref = SYNTAX_SET
        .find_syntax_by_extension("rs")
        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());

    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);
    let mut display_lines: Vec<Line<'static>> = Vec::new();

    for (i, line_text) in lines[start..end].iter().enumerate() {
        let line_num = start + i + 1;
        let marker = if line_num == target_line + 1 {
            ""
        } else {
            " "
        };
        let line_num_text = format!("{marker} {line_num:4} | ");

        let highlighted = highlight_lines
            .highlight_line(line_text, &SYNTAX_SET)
            .unwrap();

        let mut spans = vec![Span::raw(line_num_text)];
        for (style, text) in highlighted {
            spans.push(Span::styled(
                text.to_string(),
                Style::default().fg(Color::Rgb(
                    style.foreground.r,
                    style.foreground.g,
                    style.foreground.b,
                )),
            ));
        }

        display_lines.push(Line::from(spans));
    }

    display_lines
}

#[syncdoc::omnidoc]
pub fn highlight_line_with_extension(line: &str, extension: &str) -> Line<'static> {
    let theme = &THEME_SET.themes["base16-eighties.dark"];
    let syntax_ref = SYNTAX_SET
        .find_syntax_by_extension(extension)
        .unwrap_or_else(|| SYNTAX_SET.find_syntax_plain_text());

    let mut highlight_lines = HighlightLines::new(syntax_ref, theme);

    // Try to highlight, fall back to plain text if it fails
    match highlight_lines.highlight_line(line, &SYNTAX_SET) {
        Ok(highlighted) => {
            let mut spans = Vec::new();
            for (style, text) in highlighted {
                spans.push(Span::styled(
                    text.to_string(),
                    Style::default().fg(Color::Rgb(
                        style.foreground.r,
                        style.foreground.g,
                        style.foreground.b,
                    )),
                ));
            }
            Line::from(spans)
        }
        Err(_) => {
            // Fall back to plain text if highlighting fails
            Line::from(line.to_string())
        }
    }
}

[SYNCDOC DEBUG] === REFORMAT END ===

[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: pub, span: bytes(3288..3291) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: mod, span: bytes(3292..3295) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: highlight, span: bytes(3296..3305) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(3305..3306) })
[SYNCDOC DEBUG] 
=== REFORMAT START ===
[SYNCDOC DEBUG] Original length: 19
[SYNCDOC DEBUG] Transformed length: 19
[SYNCDOC DEBUG] Formatted original length: 19
[SYNCDOC DEBUG] Formatted transformed length: 19
[SYNCDOC DEBUG] 
--- Formatted Original ---
[SYNCDOC DEBUG] pub mod highlight;

[SYNCDOC DEBUG] 
--- Formatted Transformed ---
[SYNCDOC DEBUG] pub mod highlight;

[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 1
[SYNCDOC DEBUG] After lines: 1
[SYNCDOC DEBUG] Hunks: 0
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] DEBUG restore: Found 0 hunks
[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 1
[SYNCDOC DEBUG] After lines: 1
[SYNCDOC DEBUG] Hunks: 0
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] Original != Result: true
[SYNCDOC DEBUG] 
=== BOOKEND DEBUG START ===
[SYNCDOC DEBUG] Input code length: 18
[SYNCDOC DEBUG] 
Line 0: "pub mod highlight;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub mod highlight;"
[SYNCDOC DEBUG]       no_spaces: "pubmodhighlight;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Final result length: 18
[SYNCDOC DEBUG] === BOOKEND DEBUG END ===

[SYNCDOC DEBUG] After bookending: 19
[SYNCDOC DEBUG] 
--- Final Result ---
[SYNCDOC DEBUG] pub mod highlight;

[SYNCDOC DEBUG] === REFORMAT END ===


=== Migration Summary ===
Processed 2 file(s)
Extracted 3 documentation(s)
Touched 3 missing file(s)
Rewrote 2 file(s)
