---
source: syncdoc/tests/roundtrip/basic.rs
expression: result.migrate_stderr
---
[SYNCDOC DEBUG] get_docs_path called:
[SYNCDOC DEBUG]   source_file: src
[SYNCDOC DEBUG]   manifest_dir: /tmp/.tmpXXXXXX
[SYNCDOC DEBUG]   docs_path from toml: docs
[SYNCDOC DEBUG]   manifest_path (canonical): /tmp/.tmpXXXXXX
[SYNCDOC DEBUG]   source_dir (canonical): /tmp/.tmpXXXXXX
[SYNCDOC DEBUG]   relative_path (stripped): 
[SYNCDOC DEBUG]   depth: 0
[SYNCDOC DEBUG]   final result: docs
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: use, span: bytes(246..249) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: facet, span: bytes(250..255) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(255..256) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(256..257) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: Facet, span: bytes(257..262) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(262..263) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: use, span: bytes(264..267) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: std, span: bytes(268..271) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Joint, span: bytes(271..272) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ':', spacing: Alone, span: bytes(272..273) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: fs, span: bytes(273..275) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(275..276) })
[SYNCDOC DEBUG] Processing item type: Struct
[SYNCDOC DEBUG] Processing item: Struct(StructSig { attributes: Some(Repeats<1, 18446744073709551615, syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(278..353) }, Punct { char: '=', spacing: Alone, span: bytes(278..353) }, Literal { lit: " User preferences loaded from asterism.toml or falling back to defaults.", span: bytes(278..353) }], span: bytes(278..353) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: derive, span: bytes(356..362) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: Facet, span: bytes(363..368) }, Punct { char: ',', spacing: Alone, span: bytes(368..369) }, Ident { sym: Clone, span: bytes(370..375) }], span: bytes(362..376) }], span: bytes(355..377) }) }, delimiter: Some(Nothing) }])), visibility: Some(Public(KPub(Cached<proc_macro2::Ident> { value: Ident { sym: pub, span: bytes(378..381) }, string: "pub" }))), _struct: KStruct(Cached<proc_macro2::Ident> { value: Ident { sym: struct, span: bytes(382..388) }, string: "struct" }), name: Ident { sym: Config, span: bytes(389..395) }, generics: None, where_clause: None, body: Named(BraceGroupContaining < core::option::Option<unsynn::container::DelimitedVec<syncdoc_core::parse::StructField, unsynn::operator::Operator<','>>>>(Some(DelimitedVec<syncdoc_core::parse::StructField, unsynn::operator::Operator<','>>([Delimited<syncdoc_core::parse::StructField, unsynn::operator::Operator<','>> { value: StructField { attributes: Some(Repeats<1, 18446744073709551615, syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(402..450) }, Punct { char: '=', spacing: Alone, span: bytes(402..450) }, Literal { lit: " Maximum line width for editor text wrapping.", span: bytes(402..450) }], span: bytes(402..450) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: facet, span: bytes(457..462) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: default, span: bytes(463..470) }, Punct { char: '=', spacing: Alone, span: bytes(471..472) }, Literal { lit: 100, span: bytes(473..476) }], span: bytes(462..477) }], span: bytes(456..478) }) }, delimiter: Some(Nothing) }])), visibility: Some(Public(KPub(Cached<proc_macro2::Ident> { value: Ident { sym: pub, span: bytes(483..486) }, string: "pub" }))), name: Ident { sym: wrap_width, span: bytes(487..497) }, _colon: Operator<':'>, field_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: usize, span: bytes(499..504) })) }, delimiter: Some(Nothing) }]) }, delimiter: Some(Operator<','>) }, Delimited<syncdoc_core::parse::StructField, unsynn::operator::Operator<','>> { value: StructField { attributes: Some(Repeats<1, 18446744073709551615, syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: facet, span: bytes(512..517) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: default, span: bytes(518..525) }, Punct { char: '=', spacing: Alone, span: bytes(526..527) }, Ident { sym: vec, span: bytes(528..531) }, Punct { char: '!', spacing: Alone, span: bytes(531..532) }, Group { delimiter: Bracket, stream: TokenStream [Literal { lit: "md", span: bytes(533..537) }, Punct { char: '.', spacing: Alone, span: bytes(537..538) }, Ident { sym: to_string, span: bytes(538..547) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(547..549) }], span: bytes(532..550) }], span: bytes(517..551) }], span: bytes(511..552) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(557..610) }, Punct { char: '=', spacing: Alone, span: bytes(557..610) }, Literal { lit: " File suffixes to match when scanning directories.", span: bytes(557..610) }], span: bytes(557..610) }) }, delimiter: Some(Nothing) }])), visibility: Some(Public(KPub(Cached<proc_macro2::Ident> { value: Ident { sym: pub, span: bytes(615..618) }, string: "pub" }))), name: Ident { sym: file_extensions, span: bytes(619..634) }, _colon: Operator<':'>, field_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: Vec, span: bytes(636..639) })) }, delimiter: Some(Nothing) }, Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::combinator::Either<unsynn::operator::Operator<','>, unsynn::group::BraceGroup>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>> { first: Operator<'<'>, second: [Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::operator::Operator<'>'>>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: String, span: bytes(640..646) })) }], third: Operator<'>'> })) }, delimiter: Some(Nothing) }]) }, delimiter: Some(Operator<','>) }])))) })
[SYNCDOC DEBUG] Processing item type: ImplBlock
[SYNCDOC DEBUG] Processing item: ImplBlock(ImplBlockSig { attributes: None, _impl: KImpl(Cached<proc_macro2::Ident> { value: Ident { sym: impl, span: bytes(652..656) }, string: "impl" }), generics: None, target_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::combinator::Either<syncdoc_core::parse::KFor, unsynn::group::BraceGroup>>, proc_macro2::TokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::combinator::Either<syncdoc_core::parse::KFor, unsynn::group::BraceGroup>>, proc_macro2::TokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::combinator::Either<syncdoc_core::parse::KFor, unsynn::group::BraceGroup>>, proc_macro2::TokenTree> { first: Except<unsynn::combinator::Either<syncdoc_core::parse::KFor, unsynn::group::BraceGroup>>, second: Ident { sym: Config, span: bytes(657..663) } }, delimiter: Some(Nothing) }]), for_trait: None, where_clause: None, items: BraceGroupContaining < syncdoc_core::parse::ModuleContent>(ModuleContent { inner_attrs: None, items: Repeats<1, 18446744073709551615, syncdoc_core::parse::ModuleItem, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::ModuleItem, unsynn::fundamental::Nothing> { value: Function(FnSig { attributes: Some(Repeats<1, 18446744073709551615, syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(670..723) }, Punct { char: '=', spacing: Alone, span: bytes(670..723) }, Literal { lit: " Load configuration from asterism.toml if present.", span: bytes(670..723) }], span: bytes(670..723) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(728..731) }, Punct { char: '=', spacing: Alone, span: bytes(728..731) }, Literal { lit: "", span: bytes(728..731) }], span: bytes(728..731) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(736..748) }, Punct { char: '=', spacing: Alone, span: bytes(736..748) }, Literal { lit: " # Panics", span: bytes(736..748) }], span: bytes(736..748) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(753..756) }, Punct { char: '=', spacing: Alone, span: bytes(753..756) }, Literal { lit: "", span: bytes(753..756) }], span: bytes(753..756) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(761..818) }, Punct { char: '=', spacing: Alone, span: bytes(761..818) }, Literal { lit: " Panics if the default configuration cannot be parsed.", span: bytes(761..818) }], span: bytes(761..818) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: must_use, span: bytes(825..833) }], span: bytes(824..834) }) }, delimiter: Some(Nothing) }])), visibility: Some(Public(KPub(Cached<proc_macro2::Ident> { value: Ident { sym: pub, span: bytes(839..842) }, string: "pub" }))), const_kw: None, async_kw: None, unsafe_kw: None, extern_kw: None, _fn: KFn(Cached<proc_macro2::Ident> { value: Ident { sym: fn, span: bytes(843..845) }, string: "fn" }), name: Ident { sym: load, span: bytes(846..850) }, generics: None, params: ParenthesisGroupContaining < core::option::Option<unsynn::container::DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>>>(Some(DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>([]))), return_type: Some(ReturnTypeFn { _arrow: Operator<'->'>, return_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::group::BraceGroup>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: Self, span: bytes(856..860) })) }, delimiter: Some(Nothing) }]) }), where_clause: None, body: BraceGroup(Group { delimiter: Brace, stream: TokenStream [Ident { sym: if, span: bytes(871..873) }, Ident { sym: let, span: bytes(874..877) }, Ident { sym: Ok, span: bytes(878..880) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: contents, span: bytes(881..889) }], span: bytes(880..890) }, Punct { char: '=', spacing: Alone, span: bytes(891..892) }, Ident { sym: fs, span: bytes(893..895) }, Punct { char: ':', spacing: Joint, span: bytes(895..896) }, Punct { char: ':', spacing: Alone, span: bytes(896..897) }, Ident { sym: read_to_string, span: bytes(897..911) }, Group { delimiter: Parenthesis, stream: TokenStream [Literal { lit: "asterism.toml", span: bytes(912..927) }], span: bytes(911..928) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: if, span: bytes(943..945) }, Ident { sym: let, span: bytes(946..949) }, Ident { sym: Ok, span: bytes(950..952) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: config, span: bytes(953..959) }], span: bytes(952..960) }, Punct { char: '=', spacing: Alone, span: bytes(961..962) }, Ident { sym: facet_toml, span: bytes(963..973) }, Punct { char: ':', spacing: Joint, span: bytes(973..974) }, Punct { char: ':', spacing: Alone, span: bytes(974..975) }, Ident { sym: from_str, span: bytes(975..983) }, Punct { char: ':', spacing: Joint, span: bytes(983..984) }, Punct { char: ':', spacing: Joint, span: bytes(984..985) }, Punct { char: '<', spacing: Alone, span: bytes(985..986) }, Ident { sym: Self, span: bytes(986..990) }, Punct { char: '>', spacing: Alone, span: bytes(990..991) }, Group { delimiter: Parenthesis, stream: TokenStream [Punct { char: '&', spacing: Alone, span: bytes(992..993) }, Ident { sym: contents, span: bytes(993..1001) }], span: bytes(991..1002) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: return, span: bytes(1021..1027) }, Ident { sym: config, span: bytes(1028..1034) }, Punct { char: ';', spacing: Alone, span: bytes(1034..1035) }], span: bytes(1003..1049) }], span: bytes(929..1059) }, Ident { sym: facet_toml, span: bytes(1068..1078) }, Punct { char: ':', spacing: Joint, span: bytes(1078..1079) }, Punct { char: ':', spacing: Alone, span: bytes(1079..1080) }, Ident { sym: from_str, span: bytes(1080..1088) }, Punct { char: ':', spacing: Joint, span: bytes(1088..1089) }, Punct { char: ':', spacing: Joint, span: bytes(1089..1090) }, Punct { char: '<', spacing: Alone, span: bytes(1090..1091) }, Ident { sym: Self, span: bytes(1091..1095) }, Punct { char: '>', spacing: Alone, span: bytes(1095..1096) }, Group { delimiter: Parenthesis, stream: TokenStream [Literal { lit: "", span: bytes(1097..1099) }], span: bytes(1096..1100) }, Punct { char: '.', spacing: Alone, span: bytes(1100..1101) }, Ident { sym: unwrap, span: bytes(1101..1107) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1107..1109) }], span: bytes(861..1115) }) }), delimiter: Some(Nothing) }]) }) })
[SYNCDOC DEBUG] Processing item type: Function
[SYNCDOC DEBUG] Processing item: Function(FnSig { attributes: Some(Repeats<1, 18446744073709551615, syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing>([Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(670..723) }, Punct { char: '=', spacing: Alone, span: bytes(670..723) }, Literal { lit: " Load configuration from asterism.toml if present.", span: bytes(670..723) }], span: bytes(670..723) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(728..731) }, Punct { char: '=', spacing: Alone, span: bytes(728..731) }, Literal { lit: "", span: bytes(728..731) }], span: bytes(728..731) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(736..748) }, Punct { char: '=', spacing: Alone, span: bytes(736..748) }, Literal { lit: " # Panics", span: bytes(736..748) }], span: bytes(736..748) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(753..756) }, Punct { char: '=', spacing: Alone, span: bytes(753..756) }, Literal { lit: "", span: bytes(753..756) }], span: bytes(753..756) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: doc, span: bytes(761..818) }, Punct { char: '=', spacing: Alone, span: bytes(761..818) }, Literal { lit: " Panics if the default configuration cannot be parsed.", span: bytes(761..818) }], span: bytes(761..818) }) }, delimiter: Some(Nothing) }, Delimited<syncdoc_core::parse::Attribute, unsynn::fundamental::Nothing> { value: Attribute { _hash: Operator<'#'>, content: BracketGroup(Group { delimiter: Bracket, stream: TokenStream [Ident { sym: must_use, span: bytes(825..833) }], span: bytes(824..834) }) }, delimiter: Some(Nothing) }])), visibility: Some(Public(KPub(Cached<proc_macro2::Ident> { value: Ident { sym: pub, span: bytes(839..842) }, string: "pub" }))), const_kw: None, async_kw: None, unsafe_kw: None, extern_kw: None, _fn: KFn(Cached<proc_macro2::Ident> { value: Ident { sym: fn, span: bytes(843..845) }, string: "fn" }), name: Ident { sym: load, span: bytes(846..850) }, generics: None, params: ParenthesisGroupContaining < core::option::Option<unsynn::container::DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>>>(Some(DelimitedVec<syncdoc_core::parse::FnParam, unsynn::operator::Operator<','>>([]))), return_type: Some(ReturnTypeFn { _arrow: Operator<'->'>, return_type: Repeats<1, 18446744073709551615, unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing>([Delimited<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree>, unsynn::fundamental::Nothing> { value: Cons<unsynn::fundamental::Except<unsynn::group::BraceGroup>, syncdoc_core::parse::AngleTokenTree> { first: Except<unsynn::group::BraceGroup>, second: AngleTokenTree(Either<unsynn::combinator::Cons<unsynn::operator::Operator<'<'>, alloc::vec::Vec<unsynn::combinator::Cons<unsynn::fundamental::Except<unsynn::operator::Operator<'>'>>, syncdoc_core::parse::AngleTokenTree>>, unsynn::operator::Operator<'>'>>, proc_macro2::TokenTree>(Ident { sym: Self, span: bytes(856..860) })) }, delimiter: Some(Nothing) }]) }), where_clause: None, body: BraceGroup(Group { delimiter: Brace, stream: TokenStream [Ident { sym: if, span: bytes(871..873) }, Ident { sym: let, span: bytes(874..877) }, Ident { sym: Ok, span: bytes(878..880) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: contents, span: bytes(881..889) }], span: bytes(880..890) }, Punct { char: '=', spacing: Alone, span: bytes(891..892) }, Ident { sym: fs, span: bytes(893..895) }, Punct { char: ':', spacing: Joint, span: bytes(895..896) }, Punct { char: ':', spacing: Alone, span: bytes(896..897) }, Ident { sym: read_to_string, span: bytes(897..911) }, Group { delimiter: Parenthesis, stream: TokenStream [Literal { lit: "asterism.toml", span: bytes(912..927) }], span: bytes(911..928) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: if, span: bytes(943..945) }, Ident { sym: let, span: bytes(946..949) }, Ident { sym: Ok, span: bytes(950..952) }, Group { delimiter: Parenthesis, stream: TokenStream [Ident { sym: config, span: bytes(953..959) }], span: bytes(952..960) }, Punct { char: '=', spacing: Alone, span: bytes(961..962) }, Ident { sym: facet_toml, span: bytes(963..973) }, Punct { char: ':', spacing: Joint, span: bytes(973..974) }, Punct { char: ':', spacing: Alone, span: bytes(974..975) }, Ident { sym: from_str, span: bytes(975..983) }, Punct { char: ':', spacing: Joint, span: bytes(983..984) }, Punct { char: ':', spacing: Joint, span: bytes(984..985) }, Punct { char: '<', spacing: Alone, span: bytes(985..986) }, Ident { sym: Self, span: bytes(986..990) }, Punct { char: '>', spacing: Alone, span: bytes(990..991) }, Group { delimiter: Parenthesis, stream: TokenStream [Punct { char: '&', spacing: Alone, span: bytes(992..993) }, Ident { sym: contents, span: bytes(993..1001) }], span: bytes(991..1002) }, Group { delimiter: Brace, stream: TokenStream [Ident { sym: return, span: bytes(1021..1027) }, Ident { sym: config, span: bytes(1028..1034) }, Punct { char: ';', spacing: Alone, span: bytes(1034..1035) }], span: bytes(1003..1049) }], span: bytes(929..1059) }, Ident { sym: facet_toml, span: bytes(1068..1078) }, Punct { char: ':', spacing: Joint, span: bytes(1078..1079) }, Punct { char: ':', spacing: Alone, span: bytes(1079..1080) }, Ident { sym: from_str, span: bytes(1080..1088) }, Punct { char: ':', spacing: Joint, span: bytes(1088..1089) }, Punct { char: ':', spacing: Joint, span: bytes(1089..1090) }, Punct { char: '<', spacing: Alone, span: bytes(1090..1091) }, Ident { sym: Self, span: bytes(1091..1095) }, Punct { char: '>', spacing: Alone, span: bytes(1095..1096) }, Group { delimiter: Parenthesis, stream: TokenStream [Literal { lit: "", span: bytes(1097..1099) }], span: bytes(1096..1100) }, Punct { char: '.', spacing: Alone, span: bytes(1100..1101) }, Ident { sym: unwrap, span: bytes(1101..1107) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: bytes(1107..1109) }], span: bytes(861..1115) }) })
[SYNCDOC DEBUG] 
=== REFORMAT START ===
[SYNCDOC DEBUG] Original length: 1117
[SYNCDOC DEBUG] Transformed length: 569
[SYNCDOC DEBUG] Formatted original length: 1117
[SYNCDOC DEBUG] Formatted transformed length: 616
[SYNCDOC DEBUG] 
--- Formatted Original ---
[SYNCDOC DEBUG] //! Configuration to acknowledge developer preferences as well as set defaults.
//!
//! Specifically, we try to find an asterism.toml, and if present we load settings from there.
//! This provides wrapping width and file extension preferences.

use facet::Facet;
use std::fs;

/// User preferences loaded from asterism.toml or falling back to defaults.
#[derive(Facet, Clone)]
pub struct Config {
    /// Maximum line width for editor text wrapping.
    #[facet(default = 100)]
    pub wrap_width: usize,
    #[facet(default = vec!["md".to_string()])]
    /// File suffixes to match when scanning directories.
    pub file_extensions: Vec<String>,
}

impl Config {
    /// Load configuration from asterism.toml if present.
    ///
    /// # Panics
    ///
    /// Panics if the default configuration cannot be parsed.
    #[must_use]
    pub fn load() -> Self {
        if let Ok(contents) = fs::read_to_string("asterism.toml") {
            if let Ok(config) = facet_toml::from_str::<Self>(&contents) {
                return config;
            }
        }
        facet_toml::from_str::<Self>("").unwrap()
    }
}

[SYNCDOC DEBUG] 
--- Formatted Transformed ---
[SYNCDOC DEBUG] # ! [doc = syncdoc :: module_doc ! ()]
use facet::Facet;
use std::fs;
#[syncdoc::omnidoc]
#[derive(Facet, Clone)]
pub struct Config {
    #[facet(default = 100)]
    pub wrap_width: usize,
    # [facet (default = vec ! ["md" . to_string ()])]
    pub file_extensions: Vec<String>,
}
#[syncdoc::omnidoc]
impl Config {
    #[must_use]
    pub fn load() -> Self {
        if let Ok(contents) = fs::read_to_string("asterism.toml") {
            if let Ok(config) = facet_toml::from_str::<Self>(&contents) {
                return config;
            }
        }
        facet_toml::from_str::<Self>("").unwrap()
    }
}

[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 35
[SYNCDOC DEBUG] After lines: 23
[SYNCDOC DEBUG] Hunks: 6
[SYNCDOC DEBUG] Hunk 0: before[0..5] -> after[0..1]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [0]: "//! Configuration to acknowledge developer preferences as well as set defaults."
[SYNCDOC DEBUG]     [1]: "//!"
[SYNCDOC DEBUG]     [2]: "//! Specifically, we try to find an asterism.toml, and if present we load settings from there."
[SYNCDOC DEBUG]     [3]: "//! This provides wrapping width and file extension preferences."
[SYNCDOC DEBUG]     [4]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [0]: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG] Hunk 1: before[7..9] -> after[3..4]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [7]: ""
[SYNCDOC DEBUG]     [8]: "/// User preferences loaded from asterism.toml or falling back to defaults."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [3]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 2: before[11..12] -> after[6..6]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [11]: "    /// Maximum line width for editor text wrapping."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 3: before[14..16] -> after[8..9]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [14]: "    #[facet(default = vec![\"md\".to_string()])]"
[SYNCDOC DEBUG]     [15]: "    /// File suffixes to match when scanning directories."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [8]: "    # [facet (default = vec ! [\"md\" . to_string ()])]"
[SYNCDOC DEBUG] Hunk 4: before[18..19] -> after[11..12]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [18]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [11]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 5: before[20..25] -> after[13..13]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [20]: "    /// Load configuration from asterism.toml if present."
[SYNCDOC DEBUG]     [21]: "    ///"
[SYNCDOC DEBUG]     [22]: "    /// # Panics"
[SYNCDOC DEBUG]     [23]: "    ///"
[SYNCDOC DEBUG]     [24]: "    /// Panics if the default configuration cannot be parsed."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] DEBUG restore: Found 6 hunks
[SYNCDOC DEBUG]   Hunk 0: before[0..5] after[0..1]
[SYNCDOC DEBUG]   Hunk 1: before[7..9] after[3..4]
[SYNCDOC DEBUG]   Hunk 2: before[11..12] after[6..6]
[SYNCDOC DEBUG]   Hunk 3: before[14..16] after[8..9]
[SYNCDOC DEBUG]   Hunk 4: before[18..19] after[11..12]
[SYNCDOC DEBUG]   Hunk 5: before[20..25] after[13..13]
[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 35
[SYNCDOC DEBUG] After lines: 23
[SYNCDOC DEBUG] Hunks: 6
[SYNCDOC DEBUG] Hunk 0: before[0..5] -> after[0..1]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [0]: "//! Configuration to acknowledge developer preferences as well as set defaults."
[SYNCDOC DEBUG]     [1]: "//!"
[SYNCDOC DEBUG]     [2]: "//! Specifically, we try to find an asterism.toml, and if present we load settings from there."
[SYNCDOC DEBUG]     [3]: "//! This provides wrapping width and file extension preferences."
[SYNCDOC DEBUG]     [4]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [0]: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG] Hunk 1: before[7..9] -> after[3..4]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [7]: ""
[SYNCDOC DEBUG]     [8]: "/// User preferences loaded from asterism.toml or falling back to defaults."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [3]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 2: before[11..12] -> after[6..6]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [11]: "    /// Maximum line width for editor text wrapping."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] Hunk 3: before[14..16] -> after[8..9]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [14]: "    #[facet(default = vec![\"md\".to_string()])]"
[SYNCDOC DEBUG]     [15]: "    /// File suffixes to match when scanning directories."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [8]: "    # [facet (default = vec ! [\"md\" . to_string ()])]"
[SYNCDOC DEBUG] Hunk 4: before[18..19] -> after[11..12]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [18]: ""
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG]     [11]: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG] Hunk 5: before[20..25] -> after[13..13]
[SYNCDOC DEBUG]   Before snippet:
[SYNCDOC DEBUG]     [20]: "    /// Load configuration from asterism.toml if present."
[SYNCDOC DEBUG]     [21]: "    ///"
[SYNCDOC DEBUG]     [22]: "    /// # Panics"
[SYNCDOC DEBUG]     [23]: "    ///"
[SYNCDOC DEBUG]     [24]: "    /// Panics if the default configuration cannot be parsed."
[SYNCDOC DEBUG]   After snippet:
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 0..5 (adds 1 lines, removes 5 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 7..9 (adds 1 lines, removes 2 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 11..12 (adds 0 lines, removes 1 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 14..16 (adds 1 lines, removes 2 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 18..19 (adds 1 lines, removes 1 lines)
[SYNCDOC DEBUG] APPLYING relevant hunk at lines 20..25 (adds 0 lines, removes 5 lines)
[SYNCDOC DEBUG] Original != Result: true
[SYNCDOC DEBUG] 
=== BOOKEND DEBUG START ===
[SYNCDOC DEBUG] Input code length: 611
[SYNCDOC DEBUG] 
Line 0: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]       no_spaces: "#![doc=syncdoc::module_doc!()]"
[SYNCDOC DEBUG]       -> Starts with #!
[SYNCDOC DEBUG]       -> Checking trigger "syncdoc::module_doc!": true
[SYNCDOC DEBUG]       -> Has trigger: true
[SYNCDOC DEBUG]   -> NEEDS BOOKENDING
[SYNCDOC DEBUG]     reformat_line for: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]     extract_bookend_content:
[SYNCDOC DEBUG]       trimmed: "# ! [doc = syncdoc :: module_doc ! ()]"
[SYNCDOC DEBUG]       no_spaces: "#![doc=syncdoc::module_doc!()]"
[SYNCDOC DEBUG]       Found #![ at position: 0
[SYNCDOC DEBUG]       Found ] at position: 29
[SYNCDOC DEBUG]       Extracted content: "doc=syncdoc::module_doc!()"
[SYNCDOC DEBUG]     Got content: "doc=syncdoc::module_doc!()"
[SYNCDOC DEBUG]     Created bookended expr: "const _: i32 = { doc=syncdoc::module_doc!() };"
[SYNCDOC DEBUG]     Rustfmt output: "const _: i32 = { doc = syncdoc::module_doc!() };\n"
[SYNCDOC DEBUG]     Stripped bookends: "doc = syncdoc::module_doc!()"
[SYNCDOC DEBUG]     Final result: "#![doc = syncdoc::module_doc!()]"
[SYNCDOC DEBUG]   -> Reformatted to: "#![doc = syncdoc::module_doc!()]"
[SYNCDOC DEBUG] 
Line 1: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 2: "use facet::Facet;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "use facet::Facet;"
[SYNCDOC DEBUG]       no_spaces: "usefacet::Facet;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 3: "use std::fs;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "use std::fs;"
[SYNCDOC DEBUG]       no_spaces: "usestd::fs;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 4: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 5: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       no_spaces: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 6: "#[derive(Facet, Clone)]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[derive(Facet, Clone)]"
[SYNCDOC DEBUG]       no_spaces: "#[derive(Facet,Clone)]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 7: "pub struct Config {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub struct Config {"
[SYNCDOC DEBUG]       no_spaces: "pubstructConfig{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 8: "    #[facet(default = 100)]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[facet(default = 100)]"
[SYNCDOC DEBUG]       no_spaces: "#[facet(default=100)]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 9: "    pub wrap_width: usize,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub wrap_width: usize,"
[SYNCDOC DEBUG]       no_spaces: "pubwrap_width:usize,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 10: "    #[facet(default = vec![\"md\".to_string()])]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[facet(default = vec![\"md\".to_string()])]"
[SYNCDOC DEBUG]       no_spaces: "#[facet(default=vec![\"md\".to_string()])]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 11: "    pub file_extensions: Vec<String>,"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub file_extensions: Vec<String>,"
[SYNCDOC DEBUG]       no_spaces: "pubfile_extensions:Vec<String>,"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 12: "}"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 13: ""
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: ""
[SYNCDOC DEBUG]       no_spaces: ""
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 14: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       no_spaces: "#[syncdoc::omnidoc]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 15: "impl Config {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "impl Config {"
[SYNCDOC DEBUG]       no_spaces: "implConfig{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 16: "    #[must_use]"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "#[must_use]"
[SYNCDOC DEBUG]       no_spaces: "#[must_use]"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 17: "    pub fn load() -> Self {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub fn load() -> Self {"
[SYNCDOC DEBUG]       no_spaces: "pubfnload()->Self{"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 18: "        if let Ok(contents) = fs::read_to_string(\"asterism.toml\") {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "if let Ok(contents) = fs::read_to_string(\"asterism.toml\") {"
[SYNCDOC DEBUG]       no_spaces: "ifletOk(contents)=fs::read_to_string(\"asterism.toml\"){"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 19: "            if let Ok(config) = facet_toml::from_str::<Self>(&contents) {"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "if let Ok(config) = facet_toml::from_str::<Self>(&contents) {"
[SYNCDOC DEBUG]       no_spaces: "ifletOk(config)=facet_toml::from_str::<Self>(&contents){"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 20: "                return config;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "return config;"
[SYNCDOC DEBUG]       no_spaces: "returnconfig;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 21: "            }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 22: "        }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 23: "        facet_toml::from_str::<Self>(\"\").unwrap()"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "facet_toml::from_str::<Self>(\"\").unwrap()"
[SYNCDOC DEBUG]       no_spaces: "facet_toml::from_str::<Self>(\"\").unwrap()"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 24: "    }"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Line 25: "}"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "}"
[SYNCDOC DEBUG]       no_spaces: "}"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Final result length: 605
[SYNCDOC DEBUG] === BOOKEND DEBUG END ===

[SYNCDOC DEBUG] After bookending: 569
[SYNCDOC DEBUG] 
--- Final Result ---
[SYNCDOC DEBUG] #![doc = syncdoc::module_doc!()]

use facet::Facet;
use std::fs;

#[syncdoc::omnidoc]
#[derive(Facet, Clone)]
pub struct Config {
    #[facet(default = 100)]
    pub wrap_width: usize,
    #[facet(default = vec!["md".to_string()])]
    pub file_extensions: Vec<String>,
}

#[syncdoc::omnidoc]
impl Config {
    #[must_use]
    pub fn load() -> Self {
        if let Ok(contents) = fs::read_to_string("asterism.toml") {
            if let Ok(config) = facet_toml::from_str::<Self>(&contents) {
                return config;
            }
        }
        facet_toml::from_str::<Self>("").unwrap()
    }
}

[SYNCDOC DEBUG] === REFORMAT END ===

[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: pub, span: bytes(1199..1202) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: mod, span: bytes(1203..1206) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Ident { sym: config, span: bytes(1207..1213) })
[SYNCDOC DEBUG] Processing item type: Other
[SYNCDOC DEBUG] Processing item: Other(Punct { char: ';', spacing: Alone, span: bytes(1213..1214) })
[SYNCDOC DEBUG] 
=== REFORMAT START ===
[SYNCDOC DEBUG] Original length: 16
[SYNCDOC DEBUG] Transformed length: 16
[SYNCDOC DEBUG] Formatted original length: 16
[SYNCDOC DEBUG] Formatted transformed length: 16
[SYNCDOC DEBUG] 
--- Formatted Original ---
[SYNCDOC DEBUG] pub mod config;

[SYNCDOC DEBUG] 
--- Formatted Transformed ---
[SYNCDOC DEBUG] pub mod config;

[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 1
[SYNCDOC DEBUG] After lines: 1
[SYNCDOC DEBUG] Hunks: 0
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] DEBUG restore: Found 0 hunks
[SYNCDOC DEBUG] === HUNK DEBUG ===
[SYNCDOC DEBUG] Before lines: 1
[SYNCDOC DEBUG] After lines: 1
[SYNCDOC DEBUG] Hunks: 0
[SYNCDOC DEBUG] ==================
[SYNCDOC DEBUG] Original != Result: true
[SYNCDOC DEBUG] 
=== BOOKEND DEBUG START ===
[SYNCDOC DEBUG] Input code length: 15
[SYNCDOC DEBUG] 
Line 0: "pub mod config;"
[SYNCDOC DEBUG]     Checking needs_bookending:
[SYNCDOC DEBUG]       trimmed: "pub mod config;"
[SYNCDOC DEBUG]       no_spaces: "pubmodconfig;"
[SYNCDOC DEBUG]       -> Does NOT start with #!
[SYNCDOC DEBUG]   -> No bookending needed
[SYNCDOC DEBUG] 
Final result length: 15
[SYNCDOC DEBUG] === BOOKEND DEBUG END ===

[SYNCDOC DEBUG] After bookending: 16
[SYNCDOC DEBUG] 
--- Final Result ---
[SYNCDOC DEBUG] pub mod config;

[SYNCDOC DEBUG] === REFORMAT END ===


=== Migration Summary ===
Processed 2 file(s)
Extracted 5 documentation(s)
Touched 1 missing file(s)
Rewrote 2 file(s)
